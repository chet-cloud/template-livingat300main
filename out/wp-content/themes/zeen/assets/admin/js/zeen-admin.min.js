"use strict";!function(d){var e={init:function(){this.domInit(),this.cache(),this.bind(),this.postInit(),this.taxOptions(),this.mediaOptions(),this.menuState()},postInit:function(){1===parseInt(zeenJS.args.builderActive)&&this.builderButtonClasses()},domInit:function(){if(!1!==this.builderCheck()){var e="";1===parseInt(zeenJS.args.builderActive)?e+=zeenJS.i18n.textStatus+': <span class="zeen-builder-active-text">'+zeenJS.i18n.textActive+"</span>":e+=zeenJS.i18n.textStatus+': <span class="zeen-builder-inactive-text">'+zeenJS.i18n.textInactive+"</span>",d("#poststuff .wp-editor-tabs").append('<button type="button" id="content-tipi-builder" class="wp-switch-editor switch-tipi-builder" data-wp-editor-id="builderr">Tipi Builder</button>'),d("#wp-content-editor-tools").after('<div class="tipi-builder-area tipi-builder-loading"><div class="tipi-builder-area-inner">'+zeenJS.args.buttonLink+"</div></div>"),d(".tipi-builder-area").find("a").wrapInner("<span></span>").prepend('<img src="'+zeenJS.args.tipiBuilderLogo[0]+'" srcset="'+zeenJS.args.tipiBuilderLogo[1]+' 2x">'),d(".tipi-builder-area").append('<span class="tipi-builder-bg"><p class="tipi-builder-status">'+e+"</p></span>")}},cache:function(){this.$doc=d(document),this.$body=d("body"),this.$builder=d("#tipi-builder-term"),this.$mediaOptions=d("#zeen-media-options"),this.$mediaOptionsV=this.$mediaOptions.find(".post-format-video"),this.$mediaOptionsG=this.$mediaOptions.find(".post-format-gallery"),this.$mediaOptionsA=this.$mediaOptions.find(".post-format-audio"),this.$mediaVideo=d("#post-format-video"),this.$mediaGallery=d("#post-format-gallery"),this.$mediaAudio=d("#post-format-audio"),this.$mediaOptionSource=d("#zeen-engine-source"),this.$gutenberg=this.$body.hasClass("gutenberg-editor-page"),this.wpContentWrap=d("#wp-content-wrap"),this.builderButton=d("#content-tipi-builder"),this.editorButtons=d("#content-html").add(d("#content-tmce"))},mediaOptions:function(){this.$mediaOptions.hasClass("moved-box")||this.$gutenberg||(this.$mediaOptions.insertAfter(d("#titlediv")).addClass("moved-box").hide(),this.mediaOptionSource()),this.$mediaAudio.is(":checked")||this.$mediaVideo.is(":checked")||this.$mediaGallery.is(":checked")?(this.mediaOptionSource(),this.$mediaOptions.show(),this.$mediaAudio.is(":checked")&&this.$mediaOptions.addClass("show-media-a").removeClass("show-media-v show-media-g"),this.$mediaVideo.is(":checked")&&this.$mediaOptions.addClass("show-media-v").removeClass("show-media-a show-media-g"),this.$mediaGallery.is(":checked")&&this.$mediaOptions.addClass("show-media-g").removeClass("show-media-v show-media-a"),this.$gutenberg&&d("#zeen-engine-trig-section-media").addClass("show-media-v show-media-g show-media-a")):this.$mediaOptions.removeClass("show-media-v show-media-g show-media-a").hide()},mediaOptionSource:function(){this.$mediaOptions.removeClass("zeen-source-is-1 zeen-source-is-2"),this.$mediaOptions.addClass("zeen-source-is-"+this.$mediaOptionSource.val())},bind:function(){this.$body.on("change",this.$mediaVideo,this.mediaOptions.bind(this)),this.$body.on("change",this.$mediaAudio,this.mediaOptions.bind(this)),this.$body.on("change",this.$mediaGallery,this.mediaOptions.bind(this)),this.$doc.on("sortdeactivate sortstop","#menu-to-edit",this.menuChange),this.$doc.on("focus click",".submit-add-to-menu",this.menuChange),this.$doc.on("change keyup click",".zeen-mm-quantity",this.menuChangeQuantity),this.$doc.on("click",".zeen-mm-radio-image",this.menuChange),this.$doc.on("change",".zeen-mm-order",this.menuChangeOrder),d(window).load(function(){e.taxOptions()}),this.editorButtons.on("click",this.editorButtonClasses.bind(this)),this.builderButton.on("click",this.builderButtonTr.bind(this))},builderButtonTr:function(){d(".wp-editor-area").html();var e=d(".wp-editor-area").html(),i=this;if(""===e||1===parseInt(zeenJS.tipiBuilderActive))this.builderButtonClasses();else{var t=d("#tipi-modal-wrap");if(0===t.length){d("body").append('<div id="tipi-modal-wrap" class="tipi-modal-wrap"><div id="tipi-modal-inner" class="tipi-modal-inner tipi-modal-wrap-ani"></div></div>');var n=d("#tipi-modal-inner");t=d("#tipi-modal-wrap"),n.append('<div class="tipi-modal-header"><div class="tipi-modal-title">'+zeenJS.i18n.titleWarning+'</div><div class="zeen--x"></div></div>'),n.append('<div class="tipi-modal-content">'+zeenJS.i18n.tipiModalContent+"</div>"),n.append('<div class="tipi-modal-buttons"><div class="tipi-modal-cancel">'+zeenJS.i18n.titleCancel+'</div><div class="tipi-modal-ok">'+zeenJS.i18n.titleContinue+"</div></div>"),n.find(".zeen--x, .tipi-modal-cancel").on("click",function(){t.addClass("tipi-modal-wrap-inactive")}),n.find(".tipi-modal-ok").on("click",function(){i.builderButtonClasses(),t.addClass("tipi-modal-wrap-inactive")})}else t.removeClass("tipi-modal-wrap-inactive")}},builderButtonClasses:function(){!1!==this.builderCheck()&&(this.wpContentWrap.addClass("tipi-active").removeClass("tmce-active html-active"),d("#zeen-options").hide(),d("#lets-review-metabox").hide())},editorButtonClasses:function(){!1!==this.builderCheck()&&(this.wpContentWrap.removeClass("tipi-active"),d("#zeen-options").show(),d("#lets-review-metabox").show())},builderCheck:function(){return"page"===zeenJS.args.postType},taxOptions:function(){"on"===this.$builder.data("builder")&&d("#zeen-engine-meta-control-layout, #zeen-engine-meta-control-background, #zeen-engine-meta-control-pagination, #zeen-engine-meta-control-sidebar-tids, #zeen-engine-meta-control-sidebar").hide()},menuState:function(e,i){this.$body.hasClass("wp-customizer")||d(".menu-item-depth-0").each(function(e,i){var t=d(i),n=t.find("input:checked").val(),s=t.find(".zeen-mm-quantity").val(),a=t.find(".zeen-mm-order option:selected").val();t.removeClass("zeen-mm-type-1 zeen-mm-type-2 zeen-mm-type-11 zeen-mm-type-21 zeen-mm-type-31 zeen-mm-type-51 zeen-num-2 zeen-num-3 zeen-num-4 zeen-num-5 zeen-order-1 zeen-order-2 zeen-order-3").addClass("zeen-mm-type-"+n+" zeen-num-"+s+" zeen-order-"+a),t.next().hasClass("menu-item-depth-1")?t.addClass("alt-mm"):t.removeClass("alt-mm")})},menuChangeOrder:function(){var e=d(this).val();d(this).closest(".menu-item").removeClass("zeen-order-1 zeen-order-2 zeen-order-3").addClass("zeen-order-"+e)},menuChangeQuantity:function(){var e=d(this).val();d(this).closest(".menu-item").removeClass("zeen-num-2 zeen-num-3 zeen-num-4 zeen-num-5").addClass("zeen-num-"+e)},menuChange:function(){setTimeout(function(){e.menuState()},150)}};e.init()}(jQuery);